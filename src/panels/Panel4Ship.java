/* Copyright (C) 2014 Mark Ferguson This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>. */package panels;import dbviewer.globals.GlobalVariables;import java.awt.BorderLayout;import java.awt.Color;import java.awt.event.ActionEvent;import java.awt.event.ActionListener;import java.io.File;import javax.swing.ImageIcon;import javax.swing.JButton;import javax.swing.JFileChooser;import javax.swing.JLabel;import javax.swing.JList;import javax.swing.JPanel;import javax.swing.SwingConstants;import javax.swing.event.ListSelectionEvent;import javax.swing.event.ListSelectionListener;class Panel4Ship extends Panel4 {  JLabel lab = new JLabel("");//  JPanel p4s = null;  File f;  JList jl;  static JPanel jp;  static JPanel center;  static JPanel west;  static JPanel south;  String[] snames;  JButton jb;  String s = "SkyRig";  public static void main(String[] args) {    jp = new Panel4Ship();    jf = new Frame4(jp);  }  @SuppressWarnings("unchecked")  public Panel4Ship() {    super();    center = new JPanel();    center.setBackground(Color.red);    west = new JPanel();    west.setBackground(Color.white);    south = new JPanel();    south.setBackground(Color.blue);    lab = new JLabel();    lab.setOpaque(true);    lab.setBackground(Color.white);    center.add(lab);    if (s == null) {      s = "Ship";    }    jp = new Panel4(s);    if ("SkyRig".equals(s)) {      snames = new String[]{        "SkyRig-Outer.gif",        "SkyRig.gif",        "Cutter.gif",        "Jump.gif"      };    } else {//load pics in folder to jlist      snames = new String[]{        s      };    }    lab.setBackground(Color.white);    jl = new JList(snames);    jl.addListSelectionListener(new ListSelectionListener() {      @Override      public void valueChanged(ListSelectionEvent lse) {        lab.setBackground(Color.white);        if (lse.getValueIsAdjusting() != false          & !" ".equals(jl.getSelectedValue().toString())) {          System.out.println(jl.getSelectedValue().toString());          f = new File(GlobalVariables.CB + GlobalVariables.FS            + "PIC" + GlobalVariables.FS            + jl.getSelectedValue().toString());          System.out.println("f = " + f.toString());          System.out.println(f.exists());          ImageIcon icon = new ImageIcon(f.toString());          if (f.exists()) {            icon = new ImageIcon(f.toString(),              "a pic of ship");            //lab.setSize(icon.getIconWidth(),icon.getIconHeight());            lab.setSize(jp.getSize());          }          lab.setIcon(icon);          lab.setBackground(Color.white);        }      }    });    west.add(jl);    jb = new JButton("ADD");    jb.addActionListener(new ActionListener() {      @Override      public void actionPerformed(ActionEvent ae) {        JFileChooser jfc = dbviewer.DBViewer.jfc;        jfc.setCurrentDirectory(new File("./PIC/"));        jfc.showOpenDialog(jp);        System.out.println(jfc.getSelectedFile());        jl.add(jfc.getSelectedFile().toString(), lab);        jl.validate();        jl.repaint();      }    });    south.add(jb);    add(center, BorderLayout.CENTER);    add(west, BorderLayout.WEST);    add(south, BorderLayout.SOUTH);    lab.setHorizontalAlignment(SwingConstants.CENTER);    lab.setVerticalAlignment(SwingConstants.CENTER);  }  public Panel4Ship(String str) {    this();    s = str;  }}